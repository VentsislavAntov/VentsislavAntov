name: Metrics
on:
  schedule:
    - cron: "0 6 * * *"   # daily
  workflow_dispatch:

permissions:
  contents: write

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - name: Generate metrics
        uses: lowlighter/metrics@latest
    with:
      token: ${{ secrets.METRICS_TOKEN }}  # use a PAT, not GITHUB_TOKEN
      user: VentsislavAntov
      template: classic
      filename: github-metrics.svg
      output_action: commit
    
      base: header, repositories
    
      # âœ… Lines added/removed (this is what you want)
      plugin_lines: yes
      plugin_lines_sections: repositories, history
      plugin_lines_repositories_limit: 6
      plugin_lines_history_limit: 1
    
      # (Optional) keep your languages card
      plugin_languages: yes
      plugin_languages_sections: most-used
      plugin_languages_details: bytes-size, percentage
    
